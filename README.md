# Xsolla School 2021. Направление Backend. Тестовое задание 
Тестовое задание для поступления в школу Xsolla 2021 на направление backend.

* [Установка](#Установка)
* [Описание API](#Описание-API)
 
## Установка
Проще всего ничего не устанавливать и работать с API через https://xsolla-test-market-api.herokuapp.com/, но если вам очень сильно захотелось, то нужно:
1. Склонировать репозиторий
2. Установить Python 3.9.5
3. Установить все пакеты, перечисленные requirements.txt ``` pip install -r requirements.txt ```
4. Установить [PostgreSQL](https://www.postgresql.org/)
5. Создать базу данных
6. В переменной среды под названием DATABASE_URL указать строку подключения к созданной БД, пример: ``` postgresql://postgres:postgres@localhost:5432/market_api ```
7. После этого в папке с проектом запустить Python и выполнить следующие команды: ``` from app import db ``` ``` db.create_all() ```
8. Можно ползоваться, запросы отправляются по адресу http://127.0.0.1:5000/

## Описание API
### Получение информации о товаре/товарах
- GET /api/v1/products
  - Метод возвращает список всех товаров
- GET api/v1/products/id/<p_id> 
  - Метод возвращает все данные о товаре по его идентификатору
- GET api/v1/sku/<sku> 
  - Метод возвращает все данные о товаре по его SKU
 
### Создание товара
- POST api/v1/products 
  - Метод генерирует и возвращает уникальный идентификатор товара
 
Параметры:
 * name - название товара
 * type - тип товара
 * price - цена товара
 
### Редактирование товара
- PUT api/v1/products/id/<p_id> 
  - Метод изменяет все данные о товаре по его идентификатору
 
- PUT api/v1/products/sku/<p_sku> 
  - Метод изменяет все данные о товаре по его SKU

 Параметры:
 * name - название товара
 * type - тип товара
 * price - цена товара
 
### Удаление товара
- DELETE api/v1/products/id/<p_id>
  - Метод удаляет все данные о товаре по его идентификатору
- DELETE api/v1/products/sku/<p_sku> 
  - Метод удаляет все данные о товаре по его SKU
